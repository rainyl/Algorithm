# 数据格式

##  1.1 MICAPS格式

以Micaps 4 格式为例，存储格点数据

文件头：

diamond  4  数据说明（字符串）  年  月  日  时次  时效  层次（均为整数）经度格距  纬度格距  起始经度  终止经度  起始纬度  终止纬度（均为浮点数） 纬向格点数  经向格点数（均为整数）  等值线间隔  等值线起始值  终止值  平滑系数 加粗线值（均为浮点数）

> 注：此类数据用于画格点数据的等值线。网格可以为经纬度网格，也可以为直角坐标网格。

**1、当使用直角坐标网格数据时：**

1）将等值线终止值改为-1（直角坐标在兰勃托投影下）或-2（直角坐标在麦开托投影下）或-3（直角坐标在北半球投影下）

2）把网格经度间隔和纬度间隔改为格点数据第一行最后一个点的经纬度。

3）把起始经度和起始纬度改为格点数据第一行第一个点的经纬度。

4）把终止经度和终止纬度改为格点数据最后一行最后一个点的经纬度。

**2、第4类数据文件可以直接用于填格点值。文件头中可以指定填图方式。指定方法为：**

1）把加粗线值改为-1，表示画等值线同时填图，

2）改为-2表示只填图，不画等值线。

数据：

数据按先纬向后经向放（直角坐标网格时为先X方向后Y方向），均为浮点数。

文件主要是以.000和.dat结尾的数据，例如：2016102000.000  16102000.003.ZJOCF.Pr03.dat 

**以.000结尾的数据为例：**

例如：2016102000.000 

其数据格式：前两行为数据信息，后面是数据

![1566133347729](C:\Users\24426\AppData\Roaming\Typora\typora-user-images\1566133347729.png)

截图展示的是前两行信息：

* 第一行：数据产生时间

* 第二行 ：年、月、日、时、分；999代表空值；第一个0.05代表经度间隔；第二个0.05代表纬度间隔；117.65、123.35表示经度范围；27.1、31.25 表示纬度范围；115表示列数；84 表示行数 

**以.dat结尾的数据为例：**

 例如：16102000.003.ZJOCF.Pr03.dat 

数据格式为：前四行为数据信息，后面是数据

![1566133451173](C:\Users\24426\AppData\Roaming\Typora\typora-user-images\1566133451173.png)

截图展示的是前四行信息：

* 第一行：数据生成时间
* 第二行：数据生成时间
* 第三行：第一个0.05代表列间隔 ；第二个0.05代表行间隔；116、128代表经度范围；25、33代表纬度范围
* 第四行：241代表 列数；161代表行数

>  数据可直接使用pandas进行读取，[0,0]为[经度最小，纬度最小]

## 1.2 ESRI ASCII Grid格式

例如：depth10.txt

数据格式：前五行为信息块，后面为数据

![1566135744911](C:\Users\24426\AppData\Roaming\Typora\typora-user-images\1566135744911.png)

ncol 为列数； nrows 表示行数；xllcorner，yllcorner 为数据展示时左下角经纬度(也就是最小经纬度)  ；Cellsize 为经纬度间隔；  -9999 表示 nodata

> 数据可以使用pandas.read_table(),读出的数据[n,0]为[经度最小，纬度最小]

## 1.3  NetCDF格式

**NetCDF**全称为network Common Data Format，中文译法为‘网络通用数据格式’，对于程序员来说，它和zip、jpeg、bmp文件格式类似，都是一种文件格式的标准，NetCDF文件开始的目的是用来存储气象科学中的数据。现在已经成为许多数据采集软件的生成文件的格式。

从数学上来说，NetCDF存储的数据就是一个自变量的单值函数，用公式来说就是f(x,y,z...)=value,函数的自变量x、y、z等在NetCDF中叫做维(dimension)或者坐标轴(axis)，函数值value在NetCDF中叫做变量(Variables)，而自变量和函数值在物理上的一些性质，比如计量单位、物理学名称等等在NetCDF中就叫做属性(Attributes)。

文件以 .nc 结尾，通常包括三个维度：<font color='red'>时间、经度、纬度</font>，存储的数据就是特定时间、特定经纬度的天气信息，例如温度、降水。

## 1.4 AWX 格式

文件以.awx结尾，是一种以二进制存储的文件，需要使用 python 的 struct。 

数据格式由两部分组成：信息头块和数据块 ，其中信息头块占据指定字符个数，余下所有字符都是数据块，数据块读取出来之后采用行排列，每行排列指定列，然后继续下行的排列。具体格式：

| 单字节序号 | 数据含义             |
| ---------- | -------------------- |
| 21-22      | 每列占据单字节字符数 |
| 23-24      | 信息头块所占据行数   |
| 25-26      | 数据行数             |
| 73-74      | 纬度最大值           |
| 75-76      | 维度最小值           |
| 77-78      | 经度最小值           |
| 79-80      | 经度最大值           |

> 从数据头块所占行数*每列占据单字节字符数开始—结尾                   最终数据

## 1.5 FY2E静止气象卫星投影文件

文章网络链接：http://www.doc88.com/p-7196804939258.html

